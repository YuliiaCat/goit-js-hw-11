{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export function fetchImages(value) {\n  const BASE_URL = 'https://pixabay.com';\n  const END_POINT = '/api/';\n  const params = new URLSearchParams({\n    key: \"44352919-dbe9ef0ac86097ad22a8e9457\",\n    q: value,\n    image_type: \"photo\",\n    orientation: \"horizontal\",\n    safesearch: true,\n  });\n\n  const url = `${BASE_URL}${END_POINT}?${params}`;\n\n  return fetch(url)\n    .then(res => res.json());\n}\n\n","export function renderImage(data) {\n  return data.map(image => `<li class=\"gallery-item\">\n      <div class=\"image-cont\">\n        <a class=\"gallery-link\" href=\"${image.largeImageURL}\">\n          <img class=\"gallery-image\" src=\"${image.webformatURL}\" alt=\"${image.tags}\" />\n        </a>\n        <div class=\"image-descr\">\n          <div class=\"descr-box\">\n            <p class=\"image-feature\">Likes</p>\n            <p class=\"image-data\">${image.likes}</p>\n          </div>\n          <div class=\"descr-box\">\n            <p class=\"image-feature\">Views</p>\n            <p class=\"image-data\">${image.views}</p>\n          </div>\n          <div class=\"descr-box\">\n            <p class=\"image-feature\">Comments</p>\n            <p class=\"image-data\">${image.comments}</p>\n          </div>\n          <div class=\"descr-box\">\n            <p class=\"image-feature\">Downloads</p>\n              <p class=\"image-data\">${image.downloads}</p>\n          </div>\n        </div>\n      </div>\n    </li>\n  `).join('');\n}","'use strict';\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport { fetchImages } from \"./js/pixabay-api\";\nimport { renderImage } from \"./js/render-functions\";\n\nconst btn = document.querySelector('.search-btn');\nconst form = document.querySelector('.search-form');\nconst input = document.querySelector('.search-input');\nconst list = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader')\n\nform.addEventListener('submit', (event) => {\n  event.preventDefault();\n  const value = event.target.elements.query.value.trim();\n  loader.classList.toggle('visually-hidden');\n\n  if (value === '') {\n    btn.disabled = true;\n    iziToast.error({\n      position: \"topRight\",\n      message: 'Please enter some text',\n    });\n  }\n\n  list.innerHTML = '';\n\n  fetchImages(value)\n    .then(data => {\n      if (data.hits && data.hits.length > 0) {\n        const markup = renderImage(data.hits);\n        list.insertAdjacentHTML(\"beforeend\", markup);\n        loader.classList.toggle('visually-hidden');\n\n        let lightbox = new SimpleLightbox('.gallery a', {\n          captions: true,\n          captionDelay: 250,\n          captionPosition: 'bottom',\n          captionsData: 'alt',\n        });\n\n        lightbox.refresh();\n      } else {\n          iziToast.error({\n            position: \"topRight\",\n            message: 'Sorry, there are no images matching your search query. Please try again!',\n          })\n\n          loader.classList.toggle('visually-hidden');\n        }\n    })\n    .catch(err => {\n      console.log(err);\n      iziToast.error({\n        position: \"topRight\",\n        message: 'Sorry, the request cant be completed at this time. Please try again',\n      })\n    });\n\n  input.value = '';\n});\n"],"names":["fetchImages","value","BASE_URL","END_POINT","params","url","res","renderImage","data","image","btn","form","input","list","loader","event","iziToast","markup","SimpleLightbox","err"],"mappings":"6vBAAO,SAASA,EAAYC,EAAO,CACjC,MAAMC,EAAW,sBACXC,EAAY,QACZC,EAAS,IAAI,gBAAgB,CACjC,IAAK,qCACL,EAAGH,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAEKI,EAAM,GAAGH,CAAQ,GAAGC,CAAS,IAAIC,CAAM,GAE7C,OAAO,MAAMC,CAAG,EACb,KAAKC,GAAOA,EAAI,KAAM,CAAA,CAC3B,CCfO,SAASC,EAAYC,EAAM,CAChC,OAAOA,EAAK,IAAIC,GAAS;AAAA;AAAA,wCAEaA,EAAM,aAAa;AAAA,4CACfA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,oCAK9CA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,oCAIXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,oCAIXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,sCAIZA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA,GAKlD,EAAE,KAAK,EAAE,CACZ,CCnBA,MAAMC,EAAM,SAAS,cAAc,aAAa,EAC1CC,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAQ,SAAS,cAAc,eAAe,EAC9CC,EAAO,SAAS,cAAc,UAAU,EACxCC,EAAS,SAAS,cAAc,SAAS,EAE/CH,EAAK,iBAAiB,SAAWI,GAAU,CACzCA,EAAM,eAAc,EACpB,MAAMd,EAAQc,EAAM,OAAO,SAAS,MAAM,MAAM,OAChDD,EAAO,UAAU,OAAO,iBAAiB,EAErCb,IAAU,KACZS,EAAI,SAAW,GACfM,EAAS,MAAM,CACb,SAAU,WACV,QAAS,wBACf,CAAK,GAGHH,EAAK,UAAY,GAEjBb,EAAYC,CAAK,EACd,KAAKO,GAAQ,CACZ,GAAIA,EAAK,MAAQA,EAAK,KAAK,OAAS,EAAG,CACrC,MAAMS,EAASV,EAAYC,EAAK,IAAI,EACpCK,EAAK,mBAAmB,YAAaI,CAAM,EAC3CH,EAAO,UAAU,OAAO,iBAAiB,EAE1B,IAAII,EAAe,aAAc,CAC9C,SAAU,GACV,aAAc,IACd,gBAAiB,SACjB,aAAc,KACxB,CAAS,EAEQ,QAAO,CACxB,MACUF,EAAS,MAAM,CACb,SAAU,WACV,QAAS,0EACrB,CAAW,EAEDF,EAAO,UAAU,OAAO,iBAAiB,CAEnD,CAAK,EACA,MAAMK,GAAO,CACZ,QAAQ,IAAIA,CAAG,EACfH,EAAS,MAAM,CACb,SAAU,WACV,QAAS,qEACjB,CAAO,CACP,CAAK,EAEHJ,EAAM,MAAQ,EAChB,CAAC"}